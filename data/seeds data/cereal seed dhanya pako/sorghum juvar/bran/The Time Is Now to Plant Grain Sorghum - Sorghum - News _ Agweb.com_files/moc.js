
jQuery(function($){$("body").on("click",".trigger-overlay",function(e){overlayDisplay(null,$(this).data());e.preventDefault();});});function overlayDisplay(content,data){if(data===undefined){data="";data.options="";};var $mainContent=$("#mainOverlayContent");if(data.options&&data.options){var dataType=(data.options.dataType)?data.options.dataType:"json";var queryTool=(data.options.QueryTool)?data.options.QueryTool:"store";var ajaxUrl=(data.options.ajaxUrl)?data.options.ajaxUrl:"/ajax/"+queryTool+"/ajax.aspx?";};if(content!=null){if(content.constructor==String){$mainContent.html(content);buildOverlay();return false;};};(data.options&&data.options.StaticId)?buildOverlay():buildAjax();function buildAjax(cacheResults){var query=ajaxUrl+$.param(data.query);var cacheResp=window[query];if(!data.options.noCache&&cacheResp){handleOverlayResult(cacheResp,data,query);}else{$.ajax({"type":"GET","data":"","async":"false","contentType":"application/json; charset=utf-8","url":query,"dataType":dataType,"success":function(o){handleOverlayResult(o,data,query);}});};};function handleOverlayResult(o,data,query){var ac='';if(!o.Success){ac+='<div class="errorMessage" style="margin:30px 30px 20px 30px;">';ac+='	<table cellspacing="0" cellpadding="10" border="0">';ac+='		<tr>';ac+='			<td valign="top" style="width: 30px;"><img width="24" height="24" alt="Error" style="border-style: none; padding-top: 6px;" src="/cms/images/exclam.gif"></td>';ac+='			<td style="width: 100%;"><p class="bold red">This was not processed due to the following reasons:</p>&raquo; '+o.Error+'</td>';ac+='		</tr>';ac+='	</table>';ac+='</div>';}else{if(!data.options.noCache)window[query]=o;switch(data.query.f){case'BuyNow':ac=processBuyNow(o);break;case'GetVideo':ac=o.VideoHtml;break;case'GetProductVideo':ac=processGetVideo(o);break;case'GetSizeChart':ac=processGetSizeChart(o);break;default:ac=(o.html)?o.html:o.HTML;};};$mainContent.html(ac);switch(data.query.f){case'BuyNow':buildBuyNow(o);BaseModule.createCookie("ViewedItem_"+data.query.ItemId,"viewed-listing",365);break;case'GetProductVideo':buildGetVideo(o);break;};$("div.sizeChartA").accordion({header:"h3",autoHeight:false,collapsible:true});buildOverlay();};function buildOverlay(){var $overlayId=$("#overlay-main");if(data.options&&data.options.StaticId){$overlayId=$("#"+data.options.StaticId);$mainContent=$("#"+data.options.StaticId+"Content");}
if(data.options&&data.options.oWidth)$overlayId.css('width',data.options.oWidth+'px');if(data.options&&data.options.SearchOverlay){InitializeDropDowns(data.options.IsNewSearch)}
$overlayId.overlay({top:'center',closeOnClick:true,oneInstance:false,expose:{color:'#000',loadSpeed:0,closeSpeed:0,maskId:'exposeMask',opacity:0.90},onLoad:function(){$("#exposeMask").css("height",$(document).height());},onClose:function(){if(!BaseModule.isEmpty(data.options.clearElement))BaseModule.ClearElement(data.options.clearElement);$overlayId.removeAttr('style');},api:true}).load();$overlayId.bgIframe().find(".overlayClose, .modalClose").click(function(){$overlayId.overlay().close();});};};function processGetSizeChart(o){return o.HTML;}
function processBuyNow(o){var sBuyNow='';sBuyNow+=o.HTML
return sBuyNow;};function buildBuyNow(o){};function processGetVideo(o){var s='';s+=' <div class="pvInner">';s+=o.VideoCode;s+=' </div>';return s;};function buildGetVideo(o){var flashvars={};flashvars.datasrc="/GetVideoPlayerXml.aspx?VideoId="+o.VideoId+"%26Preview%3dFalse";var params={};params.quality="best";params.autostart="true";params.videoid=o.VideoId;params.wmode="transparent";params.allowfullscreen="true";params.allowscriptaccess="always";var attributes={};swfobject.embedSWF("/flash/video_player.swf","videoDiv","384","253","9.0.0",false,flashvars,params,attributes);}
void function(){function k(){this._options()&&(this.config.control.selectedHide?(this.elems.$list.empty(),this.elems.$list[0].appendChild(m.call(this,this._.data,document.createDocumentFragment())),this._options().eq(this._.selectedIndex).remove()):(this._.selectedOption=this._options().eq(this._.selectedIndex),this._options().removeClass(this.config.style.chooseCls),this._.selectedOption.addClass(this.config.style.chooseCls)),this.elems.$menu.find("span").html((this._.options[this._.selectedIndex]?
this._.options[this._.selectedIndex]:null)&&(this._.options[this._.selectedIndex]?this._.options[this._.selectedIndex]:null).text),this._.target.selectedIndex=this._.selectedIndex)}function n(a){var d=0,b;for(b=this._.options.length;d<b&&a!==this._.options[d].text;d++);return d}function p(){if(this._.changeEvents.length)for(var a=0;this._.changeEvents[a];)this._.changeEvents[a]instanceof Function&&this._.changeEvents[a].call(this._.target.options[this._.target.selectedIndex]),a++}function m(a,d){var b,
e,f,g;b=0;for(e=a.length;b<e;b++){f=document.createElement("dd");if(a[b].value instanceof Array){var c=document.createElement("dl");g=document.createElement("dt");!a[b].value.length&&a[b].type?(g.className=this.config.style.tagName+"-"+a[b].type,c.appendChild(g)):(g.innerHTML=a[b].text,c.appendChild(g),c.className=this.config.style.optgroupCls,c.appendChild(arguments.callee.call(this,a[b].value,document.createDocumentFragment())));f.appendChild(c)}else f.className=this.config.style.optCls,f.innerHTML=
'\x3ca href\x3d"javascript:;"\x3e'+a[b].text+"\x3c/a\x3e";d.appendChild(f)}return d}function q(a,d){if(!a)return null;var b=a.childNodes,e,f;for(e=0;e<b.length;e++)b[e]&&1===b[e].nodeType&&("optgroup"===b[e].nodeName.toLowerCase()?(f={text:b[e].label,value:arguments.callee(b[e],[])},b[e].getAttributeNode("data-type")&&(f.type=b[e].getAttributeNode("data-type").nodeValue)):f={text:b[e].text,value:b[e].value},d.push(f));return d}function h(a){return"."===a.substring(0,1)?a:"."+a}var l=new Abstract({onchange:function(){},
selectedIndex:function(){},options:function(){},optgroups:function(){},disabled:function(){},unfold:function(){},value:function(){}}),l=new Clazz(l,{config:{carrier:null,trigger:"click",control:{dropRows:null,selectedHide:!1},style:{tagName:"choice",listCls:"choice-list",menuCls:"choice-hd",optCls:"choice-option",optgroupCls:"choice-optgroup",chooseCls:"selected",unfoldCls:"hover",unfoldReverseCls:"hover-reverse"}},inherit:Component},function(a){this.setConfig(a);a:{a=Error();var d=this.config;try{throw a.name=
"selectInit",d.carrier||(a.message="Carrier must not be null."),d.style.menuCls&&d.style.listCls&&d.style.optCls||(a.message="Style structure insufficiency."),a;}catch(b){if(window.console&&b.message){console.log(b.message);a=null;break a}}a=!0}if(a){this._.selectedIndex=0;this._.triggerEvent=this.config.trigger;this._.selectedOption=null;this._.optsWidth=null;this._.disabled=!1;this._.changeEvents=[];this._.showPos=this.config.style.unfoldCls;this.elems.$carrier=$(this.config.carrier);this.elems.$menu=
this.elems.$carrier.find(h(this.config.style.menuCls));this.elems.$list=this.elems.$carrier.find(h(this.config.style.listCls));this._.target=this.elems.$carrier.find("select")[0];this._.data=q(this._.target,[]);a=this._;var d=this._.target.options,e,f,g=[];e=0;for(f=d.length;e<f;e++)g.push({text:d[e].text,value:d[e].value});a.options=g;this._.selectedIndex=this._.target.selectedIndex;this.elems.$carrier.attr("data-trigger")&&(this._.triggerEvent=this.elems.$carrier.attr("data-trigger"));this.elems.$carrier.attr("data-width")&&
(this._.optsWidth=this.elems.$carrier.attr("data-width"),this.elems.$list.css("width",this._.optsWidth));this.elems.$list.empty();this.elems.$list[0].appendChild(m.call(this,this._.data,document.createDocumentFragment()));this.config.control.selectedHide&&this._options().eq(this._.selectedIndex).remove();k.call(this);this.config.control.dropRows&&this._options().eq(0)&&this.config.control.dropRows<this._.target.options.length+this._.target.getElementsByTagName("optgroup").length&&this.elems.$list.css({overflow:"auto",
height:parseInt(this._options().eq(0).outerHeight(),10)*this.config.control.dropRows});var c=this;"click"===this._.triggerEvent&&(this.elems.$menu.on(this._.triggerEvent,function(a){a.stopPropagation();c._unfold.call(c)}),$(document).on("click",function(){c.elems.$carrier.removeClass(c._.showPos)}));"mouseover"===this._.triggerEvent&&this.elems.$carrier.hover(function(){c._unfold.call(c)},function(){c.elems.$carrier.removeClass(c._.showPos)});this.elems.$list.on("mouseover",function(){c.elems.$list.find(h(c.config.style.chooseCls)).removeClass(c.config.style.chooseCls)});
this.elems.$list.on("click",function(a){var b=c._.selectedIndex;a.stopPropagation();"a"===a.target.nodeName.toLowerCase()&&(c._.selectedIndex=n.call(c,a.target.innerText||decodeURIComponent(a.target.textContent)),k.call(c),c.elems.$carrier.removeClass(c._.showPos),b!==c._.selectedIndex&&p.call(c))});this.onchange.implement(this._onchange);this.selectedIndex.implement(this._selectedIndex);this.disabled.implement(this._disabled);this.unfold.implement(this._unfold);this.options.implement(this._options);
this.optgroups.implement(this._optgroups);this.value.implement(this._value)}});l.extend({_onchange:function(a){this._.changeEvents.push(a)},_selectedIndex:function(a){parseInt(a,10)>this._.options.length||(this._.selectedIndex=a,k.call(this))},_disabled:function(a){this._.disabled=a},_unfold:function(){if(!this._.disabled){var a=$(h(this.config.style.tagName)),d=this.config.carrier;d.nodeType||(d=d[0]);for(var b=0,e=a.length;b<e;b++)a[b]!==d&&$(a[b]).removeClass(this.config.style.unfoldCls).removeClass(this.config.style.unfoldReverseCls);
a=document.body.scrollTop||document.documentElement.scrollTop;(a=parseInt(this.elems.$carrier.offset().top,10)+parseInt(this.elems.$list.outerHeight(),10)+parseInt(this.elems.$menu.outerHeight(),10)>$(window).height()+a&&parseInt(this.elems.$carrier.offset().top,10)-a>parseInt(this.elems.$list.outerHeight(),10)?!0:!1)?(this._.showPos=this.config.style.unfoldReverseCls,"none"!==this.elems.$list.css("display")&&this.elems.$carrier.addClass(this._.showPos),this.elems.$carrier.removeClass(this.config.style.unfoldCls)):
(this._.showPos=this.config.style.unfoldCls,"none"!==this.elems.$list.css("display")&&this.elems.$carrier.addClass(this._.showPos),this.elems.$carrier.removeClass(this.config.style.unfoldReverseCls));this.elems.$carrier.toggleClass(this._.showPos);k.call(this)}},_options:function(){return this.config.style.optCls?this.elems.$list.find(h(this.config.style.optCls)):[]},_optgroups:function(){return this.config.style.optgroupCls?this.elems.$list.find(h(this.config.style.optgroupCls)):[]},_value:function(){return this._.options[this._.selectedIndex].value}});
this.MaskSelect=l}.call(window);
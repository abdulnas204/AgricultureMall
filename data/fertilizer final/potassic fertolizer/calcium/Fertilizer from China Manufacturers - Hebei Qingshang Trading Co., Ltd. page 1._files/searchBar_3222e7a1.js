$(function(){function p(a,b){var d=document.createElement("input");d.type="hidden";d.name=a;d.value=b;c.appendChild(d)}var h,e,k,c=document.getElementById("SearchForm");if(c&&c.word){var f=c.word;window.InputSuggest&&(e=new InputSuggest({carrier:f,asyncData:{url:"http://keywordsuggestions.made-in-china.com/suggest/getEnProdSuggest.do?param\x3d#param#\x26kind\x3d5\x26ad\x3d1\x26id\x3dMICSearchSuggest\x26count\x3d10\x26ignoreCase\x3dtrue\x26matchAnywhere\x3dtrue\x26catflag\x3d1\x26call\x3d?"},isEncodeParam:!0,
style:{container:"div",highlightCls:"blue",selectedCls:"hover",listCls:"dropmenu-list",itemMarkCls:"suggestItem"},templates:{sug:'\x3ca href\x3d"javascript:;" val\x3d"\x3c$ return word.replace(/"/g, "\x26quot;"); $\x3e" J-code\x3d"{catCode}"\x3e{{word}}\x3c$ if (catName) { return " in "; } $\x3e\x3cspan class\x3dhighlight-category\x3e{catName}\x3c/span\x3e\x3c/a\x3e',ads:'\x3cdiv class\x3d"suggest-pro cf"\x3e\x3ca href\x3d"{url}" target\x3d"_blank" class\x3d"pro-img" ads-data\x3d"{adsData},pa:1"\x3e\x3cimg src\x3d"{img}" width\x3d"80" height\x3d"60" alt\x3d""\x3e\x3c/a\x3e\x3cdiv class\x3d"pro-links"\x3e\x3ca href\x3d"{url}" target\x3d"_blank" ads-data\x3d"{adsData},pa:2"\x3e{name}\x3c/a\x3e\x3ca href\x3d"{comUrl}" target\x3d"_blank" class\x3d"company" ads-data\x3d"{adsData},pa:3"\x3e{comName}\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'}}),
e.sugCustomAction=function(a){a.attr("J-code")&&$(c).find("input[name\x3dcode]").val(a.attr("J-code"));c.submit()},e.adsCustomAction=function(a,b){13==b.keyCode&&a.find("a:eq(0)")[0].click()},("1"===$("#searchType select").val()||"2"===$("#searchType select").val())&&e&&e.disabled(!0),e.on("show",function(){$(c).find(".J-inputWrap").addClass("search-focus")}),e.on("hide",function(){$(c).find(".J-inputWrap").removeClass("search-focus")}),$(f).bind("focus",function(){$.trim($(f).val()).length&&e.show()}));
var l=new Placeholder({carrier:f,style:{"font-family":"Arial"}});if(document.getElementById("searchType")){h=new MaskSelect({carrier:document.getElementById("searchType"),control:{selectedHide:!0}});var q=function(a){e&&("0"===a||"1"===a?("0"===a?e.changeAsync("http://keywordsuggestions.made-in-china.com/suggest/getEnProdSuggest.do?param\x3d#param#\x26kind\x3d5\x26ad\x3d1\x26id\x3dMICSearchSuggest\x26count\x3d10\x26ignoreCase\x3dtrue\x26matchAnywhere\x3dtrue\x26catflag\x3d1\x26call\x3d?"):e.changeAsync("http://keywordsuggestions.made-in-china.com/suggest/getEnSupplierSuggest.do?param\x3d#param#\x26kind\x3d5\x26ad\x3d1\x26id\x3dMICSearchSuggest\x26count\x3d10\x26ignoreCase\x3dtrue\x26matchAnywhere\x3dtrue\x26catflag\x3d1\x26call\x3d?"),
e.disabled(!1)):e.disabled(!0))},m=h.value();q(m);h.onchange(function(){m=h.value();k=$(this).attr("data-args");c.action=$(this).attr("data-action");q(m);l.setPlaceholder($(this).attr("placeholder"))})}$(c).bind("submit",function(a){if(""===$.trim(f.value))return alert("Please enter a keyword at least for your search."),a.preventDefault(),!1;if(!/^[\x00-\x7F\xB0]*$/.test(f.value))return alert("Please input the information in English only."),a.preventDefault(),!1;if(k){var b,d;$(c).find("input[type\x3dhidden]").remove();
if(-1!==k.indexOf("\x26")){b=k.split("\x26");for(var n=0;n<b.length;n++)d=b[n].split("\x3d"),p(d[0],-1!==d[1].indexOf("{word}")?encodeURIComponent(f.value):d[1])}else-1!==k.indexOf("\x3d")&&(d=k.split("\x3d"),p(d[0],d[1]))}if("2"===h.value())return window.location.href="http://sourcing.made-in-china.com/sourcingrequest?keyword\x3d"+encodeURIComponent(f.value)+"\x26type\x3dkeyword\x26requestfor\x3d1",a.preventDefault(),!1});(function(){var a=$(c).find(".J-history"),b=!1;$(c).find(".J-inputWrap").hover(function(){b||
(b=!0,$.getJSON("http://www.made-in-china.com/ajaxfunction.do?xcase\x3dgetKeywordHistory\x26jsoncallback\x3d?",function(d){var b='\x3cdiv class\x3d"history-word J-hisWord"\x3e\x3ca href\x3d"http://www.made-in-china.com/browsing-history/"\x3e\x3cstrong\x3eYour Recent KeyWords: \x3c/strong\x3e\x3c/a\x3e',c="";if(d&&d.length){for(var g=0;g<d.length;g++)c=decodeURIComponent(d[g].replace(/\+/g," ")),b+='\x3ca href\x3d"javascript:;"\x3e'+c+"\x3c/a\x3e"+(g===d.length-1?"":", ");a.html(b+"\x3c/div\x3e")}""===
f.value&&d&&0<d.length&&a.show()}));""===f.value&&""!==$.trim(a.html())&&a.show()},function(d){a.hide()});$(f).bind("keyup",function(){""===f.value&&""!==$.trim(a.html())?a.show():a.hide()});$(c).find(".J-history").bind("click",function(a){if("a"===a.target.nodeName.toLowerCase()&&"javascript:;"===$(a.target).attr("href"))return $.trim(a.target.innerHTML)&&(f.value=a.target.childNodes[0].nodeValue,l&&l.elems.label&&(l.elems.label.innerHTML=""),$(c).submit()),a.preventDefault(),!1})})();(function(){if($("#searchWordMore").length){var a=
$("#searchWordMore");a.find(".dropmenu-hd").bind("mouseover",function(){a.addClass("hover");a.find(".icon").html("\x26#xf0d8;")});a.bind("mouseleave",function(){a.removeClass("hover");a.find(".icon").html("\x26#xf0d7;")})}if($("#qpMore").length&&0===$("#linkMoreN").length){var b=null;$("#qpKeys").show();$("#qpMore").before($("#linkMore").clone().removeClass().attr("id","linkMoreN").removeClass("mr").mouseover(function(){var a=$("#linkMoreN").position(),b=document.documentElement&&document.documentElement.clientWidth+
document.documentElement.scrollLeft||document.body&&document.body.clientWidth+document.body.scrollLeft;a.left+$("#qpMore").width()>b?$("#qpKeys").css({position:"absolute",right:"-53px"}):$("#qpKeys").removeAttr("style");$("#qpMore").css({left:a.left-8+"px",top:a.top+5+"px"}).show()})).hover(function(){clearTimeout(b)},function(){clearTimeout(b);b=setTimeout(function(){$("#qpMore").hide()},400)})}})();(function(){window.advancedSearch=function(){var a="",b="",d="",c="",d=0<$('.dropItem input[name\x3d"type"]').size()?
$('.dropItem input[name\x3d"type"]').val():"999";0<$('.dropItem input[name\x3d"code"]').size()&&(b=$('.dropItem input[name\x3d"code"]').val(),b="-1"==b||"0"==b?"":b);switch(h.value()){case "0":a="product";break;case "1":a="supplier";break;case "2":a="sourcing";break;case "4":case "5":case "6":a="offer"}for(var c=jQuery.trim(jQuery("#searchWord").val()),e="",g=0;g<c.length;g++){var f=c.substring(g,g+1);if("?"==f)return alert("Please input an legal keyword(s)."),!1;"."!=f&&(e=/^\W+$/.test(f)?e+" ":
e+f)}e=$.trim(e);c=e.replace(/_/ig," ").split(" ");e="";for(g=0;g<c.length;g++)""!==c[g]&&(e+=(0===g?"":"_")+c[g]);window.location.href="/advanced-search/"+e+"/"+a+"-"+b+"-nolimit-"+d+"--.html"}})();(function(){$("#advanced-search").length&&($("#advanced-search").attr("href","javascript:;"),$("#advanced-search").on("click",function(){advancedSearch()}))})()}});